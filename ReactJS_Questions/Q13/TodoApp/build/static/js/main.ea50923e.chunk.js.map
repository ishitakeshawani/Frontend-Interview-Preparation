{"version":3,"sources":["App.js","index.js"],"names":["db","Dexie","version","stores","items","App","useState","search","setsearch","error","seterror","show","setshow","duplicate","allItems","useLiveQuery","toArray","addItemToDb","event","a","preventDefault","name","document","querySelector","value","i","length","add","completed","editItem","id","itemp","console","log","update","removeItemFromDb","delete","markAsPurchased","target","checked","filtered","filter","c","toLowerCase","includes","ans","pro","map","className","type","onChange","onClick","itemData","onSubmit","placeholder","required","style","color","e","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ea50923e.chunk.js","sourcesContent":["import Dexie from \"dexie\";\r\nimport { useLiveQuery } from \"dexie-react-hooks\";\r\nimport \"./App.css\";\r\nimport { useState } from \"react\";\r\nimport \"react-dropdown/style.css\";\r\n\r\nconst db = new Dexie(\"MarketList\");\r\ndb.version(1).stores({ items: \"++id,name,completed\" });\r\n\r\nconst App = () => {\r\n  const [search, setsearch] = useState(\"\");\r\n  const [error, seterror] = useState(\"\");\r\n  const [show, setshow] = useState(false);\r\n  let duplicate = false;\r\n  const allItems = useLiveQuery(() => db.items.toArray(), []);\r\n  if (!allItems) return null;\r\n\r\n  const addItemToDb = async (event) => {\r\n    event.preventDefault();\r\n    let name = document.querySelector(\".item-name\").value;\r\n    for (var i = 0; i < allItems.length; i++) {\r\n      if (allItems[i].name === name) {\r\n        duplicate = true;\r\n        seterror(\"Duplicate items are not allowed\");\r\n        break;\r\n      } else {\r\n        duplicate = false;\r\n        seterror(\"\");\r\n      }\r\n    }\r\n\r\n    if (duplicate === false) {\r\n      db.items.add({\r\n        name,\r\n        completed: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  const editItem = async (id, itemp) => {\r\n    // event.preventDefault();\r\n    console.log(itemp);\r\n    const name = document.querySelector(\".item-name\").value;\r\n    if (name === \"\" || name === null) {\r\n    } else if (itemp === true) {\r\n      seterror(\"You can not edit the completed todo\");\r\n    } else {\r\n      await db.items.update(id, { name: name });\r\n      seterror(\"\");\r\n    }\r\n  };\r\n\r\n  const removeItemFromDb = async (id) => {\r\n    await db.items.delete(id);\r\n  };\r\n\r\n  const markAsPurchased = async (id, event) => {\r\n    if (event.target.checked) {\r\n      await db.items.update(id, { completed: true });\r\n    } else {\r\n      await db.items.update(id, { completed: false });\r\n    }\r\n  };\r\n\r\n  const check = () => {\r\n    setshow(true);\r\n  };\r\n\r\n  const searching = (event) => {\r\n    setsearch(event.target.value);\r\n    setshow(false);\r\n  };\r\n\r\n  let filtered =\r\n    search.length === 0\r\n      ? allItems\r\n      : allItems.filter((c) =>\r\n          c.name.toLowerCase().includes(search.toLowerCase())\r\n        );\r\n\r\n  let ans = allItems.filter((c) => c.completed === false);\r\n\r\n  console.log(ans);\r\n  const pro = ans.map(({ id, name, completed }) => (\r\n    <div className=\"row\" key={id}>\r\n      <p className=\"col s7\">\r\n        <label className=\"cn\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={completed}\r\n            onChange={(event) => markAsPurchased(id, event)}\r\n          />\r\n          <span className=\"white-text\">{name}</span>\r\n        </label>\r\n      </p>\r\n      <i\r\n        onClick={() => editItem(id, completed)}\r\n        className=\"col s2 material-icons edit-button\"\r\n      >\r\n        edit\r\n      </i>\r\n      <i\r\n        onClick={() => removeItemFromDb(id)}\r\n        className=\"col s2 material-icons delete-button\"\r\n      >\r\n        delete\r\n      </i>\r\n    </div>\r\n  ));\r\n\r\n  const itemData = filtered.map(({ id, name, completed }) => (\r\n    <div className=\"row\" key={id}>\r\n      <p className=\"col s7\">\r\n        <label className=\"cn\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={completed}\r\n            onChange={(event) => markAsPurchased(id, event)}\r\n          />\r\n          <span className=\"white-text\">{name}</span>\r\n        </label>\r\n      </p>\r\n      <i\r\n        onClick={() => editItem(id, completed)}\r\n        className=\"col s2 material-icons edit-button\"\r\n      >\r\n        edit\r\n      </i>\r\n      <i\r\n        onClick={() => removeItemFromDb(id)}\r\n        className=\"col s2 material-icons delete-button\"\r\n      >\r\n        delete\r\n      </i>\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h3 className=\"title\">To do App</h3>\r\n      <form className=\"add-item-form\" onSubmit={(event) => addItemToDb(event)}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"item-name white-text txt\"\r\n          placeholder=\"Write todo here..\"\r\n          required\r\n        />\r\n        <button className=\"btn\">Add todo</button>\r\n        <br />\r\n        <p style={{ color: \"red\" }}>{error.length > 0 && error}</p>\r\n      </form>\r\n\r\n      <input\r\n        type=\"search\"\r\n        id=\"searchbar\"\r\n        placeholder=\"search here..\"\r\n        value={search}\r\n        onChange={(e) => searching(e)}\r\n      />\r\n      <button onClick={check} className=\"btn\">\r\n        In progress\r\n      </button>\r\n      {show && (\r\n        <div className=\"card darken-1\">\r\n          <div className=\"card-content row\">{pro}</div>\r\n        </div>\r\n      )}\r\n      {filtered.length > 0 && (\r\n        <div className=\"card darken-1\">\r\n          <div className=\"card-content row\">{itemData}</div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}